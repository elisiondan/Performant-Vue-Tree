(function(e){function t(t){for(var r,a,l=t[0],s=t[1],c=t[2],d=0,p=[];d<l.length;d++)a=l[d],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&p.push(o[a][0]),o[a]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);u&&u(t);while(p.length)p.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,l=1;l<n.length;l++){var s=n[l];0!==o[s]&&(r=!1)}r&&(i.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},o={app:0},i=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],s=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var u=s;i.push(["e96f","chunk-vendors"]),n()})({"026a":function(e,t,n){"use strict";var r=n("53d4"),o=n.n(r);o.a},"26ff":function(e,t,n){"use strict";var r=n("93c6"),o=n.n(r);o.a},"3b7e":function(e,t,n){"use strict";var r=n("d956"),o=n.n(r);o.a},4005:function(e,t,n){"use strict";(function(e){var r=n("970b"),o=n.n(r),i=n("5bc3"),a=n.n(i),l=n("df27"),s=n.n(l),c=n("7292"),u=new c["a"](new Worker(e,void 0)),d=function(){function e(){o()(this,e)}return a()(e,[{key:"traverseTree",value:function(e,t){var n=t&&t.trees||[];return u.postMessage({trees:n,nodeEvaluators:e.map((function(e){return s.a.stringify(e)})),nodeEvaluatorsData:t&&t.payload||{}})}}]),e}(),p=new d;t["a"]=p}).call(this,n("9f2b"))},"53d4":function(e,t,n){},"5aea":function(e,t,n){},7292:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n("a34a"),o=n.n(r),i=n("c973"),a=n.n(i),l=n("970b"),s=n.n(l),c=n("5bc3"),u=n.n(c),d=n("ebb0"),p=n.n(d),f=function(){function e(t){s()(this,e),this.promiseWorker=new p.a(t),this.worker=t}return u()(e,[{key:"postMessage",value:function(){var e=a()(o.a.mark((function e(t){var n;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,n=this.promiseWorker.postMessage(t),e.abrupt("return",n);case 5:throw e.prev=5,e.t0=e["catch"](0),new Error(e.t0);case 8:case"end":return e.stop()}}),e,this,[[0,5]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"destroy",value:function(){this.worker.terminate()}}]),e}()},"93c6":function(e,t,n){},"9caa":function(e,t,n){},"9f2b":function(e,t,n){e.exports=n.p+"spa/js/0-legacy.396292c5.worker.js"},ae1b:function(e,t,n){"use strict";var r=n("9caa"),o=n.n(r);o.a},c772:function(e,t,n){"use strict";var r=n("f6ae"),o=n.n(r);o.a},d956:function(e,t,n){},e96f:function(e,t,n){"use strict";n.r(t);var r,o=n("a026"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mx-2 mt-2",attrs:{id:"app"}},[n("button",{staticClass:"bg-blue-700 hover:bg-blue-600 mb-2 mr-2\n      text-white py-2 px-4 rounded inline-block",on:{click:e.expandAll}},[e._v(" Otevřít vše ")]),n("button",{staticClass:"bg-blue-700 hover:bg-blue-600 mb-2\n      text-white py-2 px-4 rounded inline-block",on:{click:e.collapseAll}},[e._v(" Zavřít vše ")]),n("tree",{staticClass:"max-w-sm tree",attrs:{trees:e.treeData,options:e.options},on:{"arrow-click":e.onarrowClick}})],1)},a=[],l=n("a34a"),s=n.n(l),c=n("c973"),u=n.n(c),d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("pvt-vertical-accordion",{ref:"wrapper",staticClass:"tree h-full mx-2 overflow-y-auto",attrs:{title:e.accordionTitle},scopedSlots:e._u([e.isWaitingForTreeProcessess?{key:"expandedBeforeContent",fn:function(){return[e._t("loading",[n("loading-indicator")])]},proxy:!0}:null,{key:"expandedBeforeChevron",fn:function(){return[n("tree-complements",{ref:"complements",attrs:{roots:e.roots,options:e.treeOptions},on:{search:e.onSearch,"select-root":e.onSelectRoot}})]},proxy:!0}],null,!0),model:{value:e.collapsed,callback:function(t){e.collapsed=t},expression:"collapsed"}},[n("tree-wrapper",{attrs:{"tree-height":e.treeHeight,roots:e.renderedTrees,options:e.treeOptions},scopedSlots:e._u([{key:"nodeContent",fn:function(t){return[e._t("nodeContent",null,{data:t})]}},{key:"nodePrependLabel",fn:function(t){return[e._t("nodePrependLabel",null,{data:t})]}},{key:"nodeLabel",fn:function(t){return[e._t("nodeLabel",null,{data:t})]}}],null,!0)})],1)},p=[],f=n("9523"),h=n.n(f),v=function(e){return e.children.some((function(e){return!e.__filtered&&e.__visible}))},m={isExpandable:v,virtualScrolling:{useVirtualScrolling:!1,itemSize:0,enableVariableSize:!1,vueVirtualScrollerOptions:{buffer:1e3,direction:"vertical",sizeField:"size",typeField:"type",pageMode:!1,prerender:0,emitUpdate:!1,keyField:"id"}},nodeEvaluators:[],matchTermEvaluator:{enabled:!0,highlightClass:"bg-yellow-400"},visual:{showIconForFolders:!0,showFolderBorders:!0},i18n:{show_all:"Zobrazit vše"}},b=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.isCollapsed?n("div",{staticClass:"flex w-8 h-full collapsed-panel",class:{"text-gray-500":e.disabled}},[n("div",{staticClass:"collapsed-chevron mt-3 mb-4 mx-auto cursor-pointer"},[n("clarity-icon",{attrs:{size:20,name:"angle-double",dir:e.expandDirection},on:{click:e.onExpand}})],1),n("div",{staticClass:"collapsed-label"},[e._t("collapsedLabel",[n("h2",[e._v(e._s(e.title))])])],2)]):e._e(),n("transition",{attrs:{name:"fade"}},[e.preserveHiddenContent?n("div",{directives:[{name:"show",rawName:"v-show",value:!1===e.isCollapsed,expression:"isCollapsed === false"}],staticClass:"flex flex-col h-full relative"},[e._t("expandedBeforeContent"),n("div",{staticClass:"flex w-full justify-between sticky top-0 bg-white z-10"},[e._t("expandedBeforeChevron"),n("div",{staticClass:"my-auto cursor-pointer"},[n("clarity-icon",{staticClass:"inline-flex",attrs:{name:"angle-double",dir:"right"===e.expandDirection?"left":"right",size:20},on:{click:e.onCollapse}})],1)],2),e._t("default")],2):e._e()])],1)},_=[],g=function(e,t){var n=t._c;return n("clr-icon",{staticClass:"inline-block",attrs:{shape:t.props.name,size:t.props.size,dir:t.props.dir},on:{click:function(){return t.listeners.click&&t.listeners.click()}}})},y=[],w=(n("d513"),n("e0b0"),o["a"].extend({name:"ClarityIcon",functional:!0,props:{name:{type:String,required:!0},size:{type:Number,default:24},dir:{type:String,validator:function(e){return["up","down","left","right"].includes(e)},default:"up"}}})),x=w,O=(n("ae1b"),n("2877")),S=Object(O["a"])(x,g,y,!0,null,null,null),T=S.exports,k=o["a"].extend({name:"PvtVerticalAccordion",components:{ClarityIcon:T},inject:["emitTreeEvent"],props:{title:{type:String,default:""},value:{type:Boolean,default:!0},preserveHidden:{type:Boolean,default:!0},expandDirection:{type:String,validator:function(e){return["left","right"].includes(e)},default:"right"},disabled:{type:Boolean,default:!1}},computed:{preserveHiddenContent:function(){return!!this.preserveHidden||!this.value},isCollapsed:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}},methods:{onCollapse:function(){this.emitTreeEvent("accordion-collapsed"),this.isCollapsed=!0},onExpand:function(){this.emitTreeEvent("accordion-expanded"),this.isCollapsed=!1}}}),E=k,j=(n("26ff"),Object(O["a"])(E,b,_,!1,null,"6a04a310",null)),C=j.exports,N=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.options.virtualScrolling.useVirtualScrolling?n("tree-virtual-scroller",{style:{maxHeight:e.treeHeight},attrs:{items:e.renderedTree,options:e.options},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.item;return[n("tree-node",{attrs:{node:r,options:e.options,"is-root":0===r.__depth,depth:r.__depth},on:{"arrow-click":e.onarrowClick},scopedSlots:e._u([{key:"nodeContent",fn:function(t){return[e._t("nodeContent",null,{data:t})]}},{key:"nodePrependLabel",fn:function(t){return[e._t("nodePrependLabel",null,{data:t})]}},{key:"nodeLabel",fn:function(t){return[e._t("nodeLabel",null,{data:t})]}}],null,!0)})]}}],null,!1,844908544)}):n("div",e._l(e.renderedTree,(function(t){return n("tree-node",{key:t.id,attrs:{node:t,options:e.options,"is-root":0===t.__depth,depth:t.__depth},on:{"arrow-click":e.onarrowClick},scopedSlots:e._u([{key:"prependLabel",fn:function(t){return[e._t("prependLabel",null,{data:t})]}},{key:"appendLabel",fn:function(t){return[e._t("appendLabel",null,{data:t})]}}],null,!0)})})),1)},V=[],P=n("448a"),R=n.n(P),A=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"transition-border min-h-5 focus:outline-none",class:{"border-l border-dashed border-gray-500":e.options.visual.showFolderBorders&&!e.isRoot},style:{paddingLeft:.5*e.depth+"rem",marginLeft:.5*e.depth+"rem"},attrs:{tabindex:"0"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onArrowClick(t)}}},[n("div",{staticClass:"mt-1 transition-bg leading-tight flex flex-auto items-center cursor-pointer "},[n("tree-expand-arrow",{attrs:{node:e.node,options:e.options},on:{click:e.onArrowClick}}),e._t("nodeContent",[e._t("nodePrependLabel",null,{node:e.node}),n("tree-folder-icon",{attrs:{node:e.node,options:e.options}}),e._t("nodeLabel",[n("div",{staticClass:"label"},[n("span",{domProps:{innerHTML:e._s(e.node.name||e.node.id)}})])])])],2)])},z=[];(function(e){e["CLOSED"]="closed",e["OPEN"]="open"})(r||(r={}));var L,I,D,$,F=r,M=function(e){return"string"===typeof e?e===F.OPEN:e.__state===F.OPEN},G=o["a"].extend({name:"TreeExpandArrow",functional:!0,props:{node:{type:Object,required:!0},options:{type:Object,required:!0}},render:function(e,t){var n=t.props,r=t.listeners,o=r.click;if(!1===n.options.isExpandable(n.node))return e("div");var i=M(n.node)?"down":"right";return e("div",{on:{click:function(){return o()}}},[e(T,{attrs:{dir:i,name:"angle",size:18}})])}}),H=G,q=Object(O["a"])(H,L,I,!1,null,null,null),B=q.exports,U=o["a"].extend({name:"TreeFolderIcon",functional:!0,props:{node:{type:Object,required:!0},options:{type:Object,required:!0}},render:function(e,t){var n=t.props,r=!n.options.isExpandable(n.node);return!1===n.options.visual.showIconForFolders||r?e("div"):e("div",{class:"mr-1"},[e(T,{attrs:{size:16,name:"folder"},key:"test"})])}}),W=U,J=Object(O["a"])(W,D,$,!1,null,null,null),Y=J.exports,Z=o["a"].extend({name:"TreeNode",inject:["emitTreeEvent"],components:{TreeExpandArrow:B,TreeFolderIcon:Y},props:{node:{type:Object,required:!0},options:{type:Object,required:!0},isRoot:{type:Boolean,default:!1},depth:{type:Number,required:!0}},methods:{onArrowClick:function(){var e=this;return u()(s.a.mark((function t(){return s.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.emitTreeEvent("arrow-click",e.node),e.$emit("arrow-click",e.node);case 2:case"end":return t.stop()}}),t)})))()}}}),X=Z,K=Object(O["a"])(X,A,z,!1,null,null,null),Q=K.exports,ee=function(e){return e.__visible&&!e.__filtered},te=ee;function ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var oe,ie=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return o.push(re(re({},t),{},{__depth:n,__index:r})),t.children.forEach((function(t,i){e(t,n+1,r+i+1,o)})),o},ae=ie,le={handleNode:function(e,t){void 0!==t.$_setVisibilityEvaluator&&(e.__visible=!!t.$_setVisibilityEvaluator)}},se=le,ce=n("4005"),ue=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.options.virtualScrolling.enableVariableSize?n("dynamic-scroller",{attrs:{items:e.items,"min-item-size":e.options.virtualScrolling.itemSize,"key-field":e.options.virtualScrolling.vueVirtualScrollerOptions.keyField,direction:e.options.virtualScrolling.vueVirtualScrollerOptions.direction,buffer:e.options.virtualScrolling.vueVirtualScrollerOptions.buffer,"size-field":e.options.virtualScrolling.vueVirtualScrollerOptions.sizeFiled,"type-field":e.options.virtualScrolling.vueVirtualScrollerOptions.typeField,"page-mode":e.options.virtualScrolling.vueVirtualScrollerOptions.pageMode,prerender:e.options.virtualScrolling.vueVirtualScrollerOptions.prerender,"emit-update":e.options.virtualScrolling.vueVirtualScrollerOptions.emitUpdate},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.item,o=t.index,i=t.active;return[n("dynamic-scroller-item",{attrs:{item:r,active:i,"size-dependencies":[r.name],"data-index":o}},[e._t("default",null,{item:r,index:o,active:i})],2)]}}],null,!0)}):n("recycle-scroller",{attrs:{items:e.items,"item-size":e.options.virtualScrolling.itemSize,"key-field":e.options.virtualScrolling.vueVirtualScrollerOptions.keyField,direction:e.options.virtualScrolling.vueVirtualScrollerOptions.direction,buffer:e.options.virtualScrolling.vueVirtualScrollerOptions.buffer,"size-field":e.options.virtualScrolling.vueVirtualScrollerOptions.sizeFiled,"type-field":e.options.virtualScrolling.vueVirtualScrollerOptions.typeField,"page-mode":e.options.virtualScrolling.vueVirtualScrollerOptions.pageMode,prerender:e.options.virtualScrolling.vueVirtualScrollerOptions.prerender,"emit-update":e.options.virtualScrolling.vueVirtualScrollerOptions.emitUpdate},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.item;return[e._t("default",null,{item:n})]}}],null,!0)})},de=[],pe=n("e508"),fe=o["a"].extend({name:"RcDynamicScroller",components:{DynamicScroller:pe["a"],DynamicScrollerItem:pe["b"],RecycleScroller:pe["c"]},props:{items:{type:Array,required:!0},options:{type:Object,required:!0}}}),he=fe,ve=(n("3b7e"),Object(O["a"])(he,ue,de,!1,null,null,null)),me=ve.exports;(function(e){e["TRAVERSING_TREE"]="Traversing Tree",e["FLATTENING_TREE"]="Flattening tree",e["TOGGLING_NODE_STATE"]="Toggling Node state"})(oe||(oe={}));var be=oe,_e=n("f2d6"),ge=n.n(_e),ye=n("2f62");o["a"].use(ye["a"]),o["a"].use(ge.a),o["a"].config.productionTip=!1;var we=new o["a"]({store:new ye["a"].Store({}),wait:new ge.a({useVuex:!0})}),xe=we.$wait,Oe=o["a"].extend({name:"TreeWrapper",components:{TreeNode:Q,TreeVirtualScroller:me},props:{roots:{type:Array,required:!0},options:{type:Object,required:!0},treeHeight:{type:String,required:!0}},data:function(){return{renderedTree:[]}},watch:{roots:{immediate:!0,handler:function(e){console.log("flatten start"),xe.start(be.FLATTENING_TREE);var t=[];e.forEach((function(e){t=[].concat(R()(t),R()(ae(e,0,t.length)))})),this.renderedTree=this.getVisibleNodes(t),xe.end(be.FLATTENING_TREE),console.log("flatten end")}}},methods:{onarrowClick:function(e){var t=this;return u()(s.a.mark((function n(){var r;return s.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:r=M(e),r?t.handleExpandedNode(e):t.handleCollapsedNode(e),xe.start(be.TOGGLING_NODE_STATE),t.getNewRenderNodes(e),xe.end(be.TOGGLING_NODE_STATE);case 5:case"end":return n.stop()}}),n)})))()},handleExpandedNode:function(e){return u()(s.a.mark((function t(){return s.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.__state=F.CLOSED,t.next=3,ce["a"].traverseTree([se],{trees:e.children,payload:{$_setVisibilityEvaluator:!1}});case 3:e.children=t.sent;case 4:case"end":return t.stop()}}),t)})))()},handleCollapsedNode:function(e){e.__state=F.OPEN,e.children.forEach((function(e){e.__visible=!0}))},getVisibleNodes:function(e){return e.filter((function(e){return te(e)}))},getNewRenderNodes:function(e){var t,n=ae(e,e.__depth,e.__index||0).filter((function(e){return e.__visible}));void 0!==n[0].__index&&(e.__state===F.CLOSED?this.renderedTree.splice(n[0].__index+1,n.length-1):(t=this.renderedTree).splice.apply(t,[n[0].__index+1,0].concat(R()(n.splice(1)))))}}}),Se=Oe,Te=Object(O["a"])(Se,N,V,!1,null,null,null),ke=Te.exports,Ee=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"border-b border-gray-400 py-3 w-full mr-4 md:flex"},[n("pvt-select",{staticClass:"mb-2 md:mr-4",attrs:{placeholder:"Select root",items:e.selectOptions},on:{input:e.onSelectedRoot},model:{value:e.selectedRoot,callback:function(t){e.selectedRoot=t},expression:"selectedRoot"}}),e.options.matchTermEvaluator.enabled?n("pvt-input",{attrs:{placeholder:"Vyhledat"},on:{change:e.onSearch}}):e._e()],1)},je=[],Ce=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"border w-full"},[e.selectedLabel?e._e():n("div",{staticClass:"absolute text-gray-600 pl-3"},[e._v(" "+e._s(e.placeholder)+" ")]),n("select",{staticClass:"appearance-none w-full border-1/2 border-gray-300\n      bg-transparent outline-none text-md px-2 leading-8",attrs:{disabled:e.disabled},domProps:{value:e.selectedLabel},on:{input:e.onInput}},e._l(e.labels,(function(t){return n("option",{key:t,staticClass:"px-2 py-1"},[e._v(" "+e._s(t)+" ")])})),0)])},Ne=[],Ve=n("7037"),Pe=n.n(Ve),Re=function(e){return!!e&&Object.prototype.hasOwnProperty.call(e,"id")},Ae=function(e){return!!e[0]&&"string"===typeof e[0]},ze=function(e){return Re(e[0])},Le=o["a"].extend({name:"PvtSelect",props:{value:{default:"",validator:function(e){return"string"===typeof e||"object"===Pe()(e)}},items:{type:Array,default:function(){return[]}},bordered:{type:Boolean,default:!1},placeholder:{type:String,default:""},disabled:{type:Boolean,default:!1}},computed:{areSimpleItems:function(){return Ae(this.items)},labels:function(){return Ae(this.items)?this.items:this.items.map((function(e){return e.value.toString()}))},selectedLabel:function(){return Re(this.selected)?this.selected.value.toString():this.selected},selected:{get:function(){return this.value},set:function(e){var t=e;ze(this.items)&&(t=this.items.find((function(t){return t.value===e}))),this.$emit("input",t)}}},methods:{onInput:function(e){this.selected=e.target.value}}}),Ie=Le,De=Object(O["a"])(Ie,Ce,Ne,!1,null,null,null),$e=De.exports,Fe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"inline-block w-full relative"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.inputValue,expression:"inputValue"}],staticClass:"border border-gray-400 w-full px-2 leading-8",attrs:{placeholder:e.placeholder},domProps:{value:e.inputValue},on:{change:function(t){return e.$emit("change",e.inputValue)},input:function(t){t.target.composing||(e.inputValue=t.target.value)}}})])},Me=[],Ge=o["a"].extend({name:"PvtInput",components:{},props:{value:{type:String,default:""},placeholder:{type:String,default:""}},data:function(){return{localValue:""}},computed:{inputValue:{get:function(){return this.localValue},set:function(e){this.localValue=e,this.$emit("input",e)}}}}),He=Ge,qe=Object(O["a"])(He,Fe,Me,!1,null,null,null),Be=qe.exports,Ue=o["a"].extend({name:"TreeComplements",inject:["emitTreeEvent"],components:{PvtSelect:$e,PvtInput:Be},props:{roots:{type:Array,required:!0},options:{type:Object,required:!0}},data:function(){return{selectedRoot:{id:"",value:this.options.i18n.show_all}}},computed:{selectOptions:function(){var e=this.roots.map((function(e){return{id:e.id,value:e.name||e.id.toString()}}));return e.unshift({id:"",value:this.options.i18n.show_all}),e}},methods:{onSearch:function(e){this.$emit("search",e)},onSelectedRoot:function(e){this.emitTreeEvent("select-root",e.id),this.$emit("select-root",e.id)}}}),We=Ue,Je=Object(O["a"])(We,Ee,je,!1,null,null,null),Ye=Je.exports,Ze=n("970b"),Xe=n.n(Ze),Ke=n("5bc3"),Qe=n.n(Ke),et=function(){function e(){Xe()(this,e),this.subscribers=new Map}return Qe()(e,[{key:"subscribe",value:function(e,t){this.subscribers.set(e,t)}},{key:"notify",value:function(e){this.subscribers.forEach((function(t){t(e)}))}}]),e}(),tt=new et,nt=tt,rt=n("2ef0"),ot={handleNode:function(e,t){var n=t.searchTerm;if(n){var r=new RegExp(n,"ig"),o=this.isMatch(e,r);o&&e.name&&(e.name=e.name.toString().replace(r,'<span class="bg-yellow-400">$&</span>')),this.markNodes(e,t,o)}},isMatch:function(e,t){return!!e.name&&t.test(e.name)},doesLeadToMatched:function(e){var t=e.__leadsToMatched||e.__matched||e.children.some((function(e){return e.__leadsToMatched||e.__matched}));return t},shouldBeVisible:function(e,t){var n=!(!e.__leadsToMatched&&!e.__matched),r=e.children.some((function(e){return e.__leadsToMatched||e.__matched}));return!t||(n||r)},markNodes:function(e,t,n){return n&&!0!==e.__filtered?e.__matched=!0:e.__matched=!1,e.__leadsToMatched=this.doesLeadToMatched(e),e.__visible=this.shouldBeVisible(e,t.removeUnmatched),e.__matched&&this.makeAllChildrenVisible(e),e.__leadsToMatched&&(e.__state="open"),e},makeAllChildrenVisible:function(e){var t=this,n=[];return n=e.children.map((function(e){return e.__visible=!0,e=t.makeAllChildrenVisible(e),e})),e.children=n,e}},it=ot,at=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"absolute h-full w-full z-50 opacity-75 bg-white "},[n("div",{staticClass:"loader border-solid border-blue-700 border-t-4 border-r-4 m-auto mt-16",style:{width:e.size+"px",height:e.size+"px"}})])},lt=[],st=o["a"].extend({name:"LoadingIndicator",props:{size:{type:Number,default:42}}}),ct=st,ut=(n("c772"),Object(O["a"])(ct,at,lt,!1,null,"dcc1e1be",null)),dt=ut.exports;n("5aea");function pt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ft(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pt(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ht=[],vt=o["a"].extend({name:"Tree",components:{TreeWrapper:ke,TreeComplements:Ye,PvtVerticalAccordion:C,LoadingIndicator:dt},props:{trees:{type:Array,required:!0},options:{type:Object,default:function(){return m}}},provide:function(){var e=this;return{emitTreeEvent:function(t,n){return e.$emit(t,n)}}},data:function(){return{search:"",traversedTrees:[],selectedRootId:"",selectedRoot:void 0,collapsed:!1,treeHeight:"0px"}},computed:{isWaitingForTreeProcessess:function(){return xe.is([be.TRAVERSING_TREE,be.FLATTENING_TREE,be.TOGGLING_NODE_STATE])},treeOptions:function(){var e=Object(rt["merge"])(m,this.options);return e.matchTermEvaluator.enabled&&e.nodeEvaluators.push(it),e},roots:function(){return this.trees.map((function(e){return ft(ft({},e),{},{children:[]})}))},renderedTrees:function(){var e=this;return""!==this.selectedRootId?this.traversedTrees.filter((function(t){return t.id===e.selectedRootId})):this.traversedTrees},accordionTitle:function(){return this.selectedRoot?this.selectedRoot.name||this.selectedRoot.id.toString():""}},watch:{trees:{handler:function(e){ht=Object(rt["cloneDeep"])(e),ht.forEach((function(e){e.__visible=!0})),this.traversedTrees=Object(rt["cloneDeep"])(ht)},deep:!0,immediate:!0}},created:function(){nt.subscribe("performant-tree-traversal",this.traverseTreeAndReplace)},mounted:function(){var e=this;return u()(s.a.mark((function t(){return s.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getTreeHeight();case 2:e.treeHeight=t.sent,window.addEventListener("resize",u()(s.a.mark((function t(){return s.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getTreeHeight();case 2:e.treeHeight=t.sent;case 3:case"end":return t.stop()}}),t)}))));case 4:case"end":return t.stop()}}),t)})))()},methods:{onSelectRoot:function(e){var t=this;this.selectedRootId=e,this.selectedRoot=this.trees.find((function(e){return e.id===t.selectedRootId}))},onSearch:function(e){nt.notify({searchTerm:e,removeUnmatched:!0,trees:ht})},traverseTreeAndReplace:function(e){var t=this;return u()(s.a.mark((function n(){var r,o,i;return s.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=t.treeOptions.nodeEvaluators,o=(null===e||void 0===e?void 0:e.trees)||t.traversedTrees,console.log("traversal start"),xe.start(be.TRAVERSING_TREE),n.next=6,ce["a"].traverseTree(r,{trees:o,payload:e});case 6:i=n.sent,xe.end(be.TRAVERSING_TREE),console.log("traversal end"),t.traversedTrees=i;case 10:case"end":return n.stop()}}),n)})))()},getTreeHeight:function(){var e=this;return u()(s.a.mark((function t(){var n,r,o;return s.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$nextTick();case 2:if(null===(n=e.options.virtualScrolling)||void 0===n?void 0:n.useVirtualScrolling){t.next=4;break}return t.abrupt("return","100%");case 4:if(!e.$refs.wrapper||!e.$refs.complements){t.next=8;break}return r=e.$refs.wrapper.$el,o=e.$refs.complements.$el,t.abrupt("return","".concat(r.clientHeight-o.clientHeight,"px"));case 8:return t.abrupt("return","0px");case 9:case"end":return t.stop()}}),t)})))()}}}),mt=vt,bt=Object(O["a"])(mt,d,p,!1,null,null,null),_t=bt.exports,gt=n("7a51"),yt=n.n(gt),wt=function(e){var t=yt.a.parse(e,{attributeNamePrefix:"@_",ignoreNameSpace:!0,parseAttributeValue:!0,allowBooleanAttributes:!0,ignoreAttributes:!1,arrayMode:!0});return t.fmgr[0]},xt=n("bc3a"),Ot=n.n(xt),St="".concat("https://is.muni.cz/auth/dok/fmgr_api"),Tt=Ot.a.create({baseURL:St,headers:{Accept:"application/json","Content-type":"application/json",Authorization:"Basic NDYxOTYxOlN0YXJjcmFmdDI6TG90Vg=="}}),kt=Tt,Et=function(e){return jt.apply(this,arguments)};function jt(){return jt=u()(s.a.mark((function e(t){var n;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=kt.get("/api",{params:{url:t,strom:0}}),e.abrupt("return",n);case 2:case"end":return e.stop()}}),e)}))),jt.apply(this,arguments)}var Ct=1,Nt=1;function Vt(e){Ct+=1,Nt+=1;var t={id:Nt,name:e>0?"Folder ".concat(Nt):"File ".concat(Nt),children:[]};if(e<=0)return t;for(var n=2838,r=20,o=0;o<r;o+=1)t.children.push(Vt(e-1));for(var i=0;i<n;i+=1)t.children.push(Vt(0));return t}function Pt(){var e={id:1,name:"Artificial root",children:[Vt(2)]};return console.log(Ct),e}var Rt={handleNode:function(e,t){t.expandAll&&(e.__state="open",e.__visible=!0)}},At=Rt,zt={handleNode:function(e,t){t.collapseAll&&t.rootsId&&(e.__state="closed",t.rootsId.find((function(t){return t===e.id}))||(e.__visible=!1))}},Lt=zt,It=function(e){return Object.prototype.hasOwnProperty.call(e,"objekty")},Dt=function(e){return!It(e)},$t=o["a"].extend({name:"App",components:{Tree:_t},data:function(){return{fiData:null,treeData:[]}},computed:{options:function(){var e={isExpandable:function(e){return!!e.url||e.children.length>0},nodeEvaluators:[At,Lt],virtualScrolling:{useVirtualScrolling:!0,itemSize:24,enableVariableSize:!1}};return e}},created:function(){var e=this;return u()(s.a.mark((function t(){return s.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.treeData=[Pt()];case 1:case"end":return t.stop()}}),t)})))()},methods:{expandAll:function(){nt.notify({expandAll:!0})},collapseAll:function(){nt.notify({collapseAll:!0,rootsId:this.treeData.map((function(e){return e.id}))})},parseRootNode:function(e){var t=this;return e.poduzly?e.poduzly[0].poduzel.map((function(e){return t.parseNode(e)})):[]},getUrlForNode:function(e){if(Dt(e)){var t=e.cesta;return t}return""},getNodeName:function(e){return e.nazev?e.nazev:It(e)&&e.objekty.length>0?e.objekty[0].objekt[0].jmeno_souboru:""},parseNode:function(e){var t={id:e.uzel_id,name:this.getNodeName(e),children:[],url:this.getUrlForNode(e)};return t},fetchParsedData:function(e){return u()(s.a.mark((function t(){var n,r;return s.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Et(e);case 2:return n=t.sent,r=wt(n.data),t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})))()},onarrowClick:function(e){return u()(s.a.mark((function t(){return s.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.url;case 1:case"end":return t.stop()}}),t)})))()}}}),Ft=$t,Mt=(n("026a"),Object(O["a"])(Ft,i,a,!1,null,"42fb658e",null)),Gt=Mt.exports;o["a"].config.productionTip=!1,new o["a"]({render:function(e){return e(Gt)}}).$mount("#app")},f6ae:function(e,t,n){}});
//# sourceMappingURL=app-legacy.f9577806.js.map